MoreThanXFollowers = SELECT * FROM Users WHERE NumFollowers > ?;
UserNumberOfPosts = SELECT PostsCount FROM Users WHERE Username = ?;
CommentsOnUserXPost = SELECT * FROM Comments WHERE PostID = ?;
TopXMostLikedPosts = SELECT * FROM Posts ORDER BY NumLikes DESC LIMIT ?;
NumberOfPostsLikedByUser = SELECT Username, COUNT(PostID) AS NumberOfLikedPosts FROM Likes GROUP BY Username;
UsersWithoutPosts = SELECT * FROM Users WHERE PostsCount = 0;
UsersWhoFollowEachOther = SELECT f1.FollowerUsername AS User1, f1.FollowedUsername AS User2 FROM Follows f1 JOIN Follows f2 ON f1.FollowerUsername = f2.FollowedUsername AND f1.FollowedUsername = f2.FollowerUsername;
UserWithHighestPosts = SELECT * FROM Users ORDER BY PostsCount DESC LIMIT 1;
TopXUsersWithMostFollowers = SELECT * FROM Users ORDER BY NumFollowers DESC LIMIT ?;
PostsLikedByAllUsers = SELECT PostID FROM Likes GROUP BY PostID HAVING COUNT(DISTINCT Username) = (SELECT COUNT(*) FROM Users);
MostActiveUser = SELECT Username FROM Users ORDER BY (SELECT COUNT(*) FROM Likes WHERE Likes.Username = Users.Username) + (SELECT COUNT(*) FROM Comments WHERE Comments.Username = Users.Username) + PostsCount DESC LIMIT 1;
AverageLikesPerUserPost = SELECT u.Username, COALESCE(AVG(p.NumLikes), 0) AS AverageLikesPerPost FROM Users u LEFT JOIN Posts p ON u.Username = p.Username GROUP BY u.Username;
PostsWithMoreCommentsThanLikes = SELECT * FROM Posts WHERE NumComments > NumLikes;
UsersWhoLikedAllPostsOfUserX = SELECT U.Username FROM Users U WHERE NOT EXISTS (SELECT P.PostID FROM Posts P WHERE P.Username = ? AND NOT EXISTS (SELECT 1 FROM Likes L WHERE L.Username = U.Username AND L.PostID = P.PostID));
MostPopularPostOfEachUser = SELECT P.Username, P.PostID, P.NumLikes FROM Posts P JOIN (SELECT Username, MAX(NumLikes) AS MaxLikes FROM Posts GROUP BY Username) AS MaxLikesPerUser ON P.Username = MaxLikesPerUser.Username AND P.NumLikes = MaxLikesPerUser.MaxLikes;
UserWithHighestFollowersFollowingRatio = SELECT Username, MAX(COALESCE(NumFollowers / NULLIF(NumFollowing, 0), 0)) AS MaxRatio FROM Users;
MonthWithHighestPosts = SELECT EXTRACT(YEAR_MONTH FROM PostDate) AS YearMonth, COUNT(*) AS NumberOfPosts FROM Posts GROUP BY YearMonth ORDER BY NumberOfPosts DESC LIMIT 1;
UsersNotInteractingWithUserXPosts = SELECT U.Username FROM Users U WHERE NOT EXISTS (SELECT P.PostID FROM Posts P WHERE P.Username = ? AND NOT EXISTS (SELECT 1 FROM Likes L WHERE L.Username = U.Username AND L.PostID = P.PostID) AND NOT EXISTS (SELECT 1 FROM Comments C WHERE C.Username = U.Username AND C.PostID = P.PostID));
UserWithGreatestIncreaseInFollowersLastXDays = SELECT u.Username, u.NumFollowers - COALESCE(f.NumFollowersBefore, 0) AS FollowersIncrease FROM Users u LEFT JOIN (SELECT f1.FollowedUsername, COUNT(*) AS NumFollowersBefore FROM Follows f1 WHERE f1.FollowDate > DATE_SUB(CURDATE(), INTERVAL ? DAY) GROUP BY f1.FollowedUsername) f ON u.Username = f.FollowedUsername ORDER BY FollowersIncrease DESC LIMIT 1;
UsersFollowedByMoreThanXPercent = SELECT U.Username FROM Users U WHERE NumFollowers > (SELECT 0.01 * ? * COUNT(*) FROM Users);
